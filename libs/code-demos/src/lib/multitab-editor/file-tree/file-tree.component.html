
<div class="file-tree-container">
  <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
      <!-- This is the tree node template for leaf nodes -->
      <mat-tree-node *matTreeNodeDef="let node">
          <li class="mat-tree-node" [class.file-node]="!node.children.length" [class.active-tree-node]="isActiveFile(node) && !node.children.length" (click)="updateActiveFileSelected(node)">
              <div *ngIf="!node.children.length" class="file-icon file-icon__filetype-{{getIconType(node)}}"></div> {{node.name}}
          </li>
      </mat-tree-node>
      <!-- This is the tree node template for expandable nodes -->
      <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
          <li>
              <div class="mat-tree-node node-folder" (click)="toggleFolder(node)">
                  <div
                    *ngIf="node.children.length"
                    class="file-icon folder"
                    [class.file-icon__folder-opened]="isExpanded(node)"
                    [class.file-icon__folder-closed]="!isExpanded(node)"
                  >
                  </div>
                  {{node.name}}
              </div>
              <ul class="node-folder-items" [class.node-folder-items--collapsed]="!isExpanded(node)">
                  <ng-container matTreeNodeOutlet></ng-container>
              </ul>
          </li>
      </mat-nested-tree-node>
  </mat-tree>
</div>
