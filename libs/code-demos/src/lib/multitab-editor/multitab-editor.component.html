
<ng-container *ngIf="allowSwitchingFiles">
  <codelab-file-tree
    class="side-nav"
    [class.codelab-file-tree--closed]="hideFileNavigationContent"
    [activeModel]="openModels[activeTabIndex]"
    [fileNames]="treeFileNames"
    (fileSelect)="updateActiveFileSelected($event.path)"
  ></codelab-file-tree>


  <div class="trigger">
    <button class="btn-file-nav" type="button" (click)="toggleNav()">File Nav</button>
    <button
      *ngIf="openModels[activeTabIndex] && shouldShowSolution(openModels[activeTabIndex])"
      (click)="loadSolution(openModels[activeTabIndex].path)"
      class="btn-load-solution"
      type="button"
    >Load Solution</button>
  </div>
</ng-container>

<div
  class="right-panel"
  [class.multi-file]="allowSwitchingFiles"
>
  <div class="panel" [class.panel--singlefile]="!allowSwitchingFiles">
    
      <div class="tab-filename-container" >
          <mat-tab-group [selectedIndex]="activeTabIndex" *ngIf="allowSwitchingFiles">
              <mat-tab *ngFor="let model of openModels; trackBy: trackByEditorIndex; let i = index">
                 <ng-template mat-tab-label>
                    <a
                      class="tab-filename"
                     (click)="updateActiveFileSelected(model.path)"
                    >
                    <span>{{retrieveFileNameFromPath(model.path)}}</span>
                    <i *ngIf="allowSwitchingFiles" aria-hidden="true" class="file-icon file-icon__remove" (click)="removeActiveNode(model, $event)"></i>
                  </a>
                 </ng-template>
               </mat-tab>
           </mat-tab-group>
           
           <div *ngIf="!allowSwitchingFiles" class="singlefile">
              <ng-container *ngFor="let model of openModels; trackBy: trackByEditorIndex; let i = index">
                  <i class="file-icon file-icon__filetype-{{getIconType(model)}}"></i><span>{{retrieveFileNameFromPath(model.path)}}</span>
              </ng-container>
           </div>
      </div>

  </div>


  <code-demo-editor-from-model
    *ngFor="let model of openModels; trackBy: trackByEditorIndex; let i = index"
    [class.tab-content]="allowSwitchingFiles"
    [class.tab-content--active]="allowSwitchingFiles && openModels[activeTabIndex] === model"
    [model]="model.model"
    [codeDemoHighlight]="model.highlight"
  ></code-demo-editor-from-model>

</div>


