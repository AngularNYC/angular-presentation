
<ng-container *ngIf="allowSwitchingFiles">
  <codelab-file-tree
    class="side-nav"
    [class.codelab-file-tree--closed]="hideFileNavigationContent"
    [activeModel]="openModels[activeTabIndex]"
    [fileNames]="treeFileNames"
    (fileSelect)="updateActiveFileSelected($event.path)"
  ></codelab-file-tree>


  <div class="trigger">
    <button class="btn-file-nav" type="button" (click)="toggleNav()">File Nav</button>
    <button
      *ngIf="openModels[activeTabIndex] && shouldShowSolution(openModels[activeTabIndex])"
      (click)="loadSolution(openModels[activeTabIndex].path)"
      class="btn-load-solution"
      type="button"
    >Load Solution</button>
  </div>
</ng-container>

<div
  class="right-panel"
  [class.multi-file]="allowSwitchingFiles"
>
  <div class="tab-filename-container" *ngIf="allowSwitchingFiles">

      <div
        *ngFor="let model of openModels; trackBy: trackByEditorIndex; let i = index"
        class="tab-filename"
        [class.tab-filename--active]="openModels[activeTabIndex] === model"

      >
          <span (click)="updateActiveFileSelected(model.path)">{{retrieveFileNameFromPath(model.path)}}</span>
          <i aria-hidden="true" class="file-icon file-icon__remove" (click)="removeActiveNode(model)"></i>
    </div>

  </div>

  <code-demo-editor-from-model
    *ngFor="let model of openModels; trackBy: trackByEditorIndex; let i = index"
    class="tab-content"
    [class.tab-content--active]="openModels[activeTabIndex] === model"
    [model]="model.model"
    [codeDemoHighlight]="model.highlight"
  ></code-demo-editor-from-model>

</div>


