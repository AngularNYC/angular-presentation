<div class="slides-wrapper">
  <button (click)="addSlide()">Add</button>

  <div
    (cdkDropListDropped)="droppedIntoList($event)"
    [class.dragging]="dragging"
    cdkDropList
    multiselectList
    [items]="slides"
    [(select)]="selectedSlideIndexes"
  >
    <div
      (cdkDragDropped)="dropped()"
      (cdkDragEnded)="dragEnded()"
      (cdkDragStarted)="dragStarted($event)"
      (click)="select($event, index)"
      *ngFor="let slide of slides; let index = index; trackBy: trackBySlideId"
      [class.selected]="selectedSlideIndexes.includes(index)"
      [class.current]="index == currentSlideIndex"
      cdkDragLockAxis="y"
      multiselectItem
      [item]="index"
      cdkDrag
      class="slide-wrapper"
      role="button"
    >
      <div *cdkDragPreview>
        <div *ngFor="let sel of selectedSlideIndexes"></div>
      </div>
      <div *cdkDragPlaceholder>
        <div
          style="background: #00a4ff; height: 1px; width: 100%; margin: 2px 0"
        ></div>
      </div>

      <div class="slide">
        <slides-slide-preview
          inert
          [slide]="slide"
          mode="preview"
        ></slides-slide-preview>
      </div>
    </div>
  </div>
</div>
